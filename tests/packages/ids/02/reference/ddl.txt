create table "ENTITY/ORGANIZATION_SOURCE" ( "NAME" NVARCHAR(4000), "TYPE" NVARCHAR(4000), "SID" NVARCHAR(4000) );

create table "ENTITY/ORGANIZATION" ( "ID" NVARCHAR(36), "NAME" NVARCHAR(4000), "OWNER" VARCHAR(36) );

create table "ENTITY/PERSON_SOURCE" ( "NAME" NVARCHAR(4000), "TYPE" NVARCHAR(4000), "SID" NVARCHAR(4000) );

create table "ENTITY/PERSON" ( "ID" NVARCHAR(36), "FIRSTNAME" NVARCHAR(4000), "LASTNAME" NVARCHAR(4000) );

create or replace column view "VIEW/ORGANIZATION" with parameters (indexType=6,
joinIndex="ENTITY/ORGANIZATION",joinIndexType=0,joinIndexEstimation=0,
viewAttribute=('ID',"ENTITY/ORGANIZATION","ID",'','default','attribute'),
viewAttribute=('NAME',"ENTITY/ORGANIZATION","NAME",'','default','attribute'),
view=('default',"ENTITY/ORGANIZATION"),
defaultView='default',
OPTIMIZEMETAMODEL=0,
'LEGACY_MODE' = 'TRUE');

create or replace column view "VIEW/PERSON" with parameters (indexType=6,
joinIndex="ENTITY/PERSON",joinIndexType=0,joinIndexEstimation=0,
viewAttribute=('ID',"ENTITY/PERSON","ID",'','default','attribute'),
viewAttribute=('FIRSTNAME',"ENTITY/PERSON","FIRSTNAME",'','default','attribute'),
viewAttribute=('LASTNAME',"ENTITY/PERSON","LASTNAME",'','default','attribute'),
view=('default',"ENTITY/PERSON"),
defaultView='default',
OPTIMIZEMETAMODEL=0,
'LEGACY_MODE' = 'TRUE');

{
    "uri": "~/$metadata/EntitySets",
    "method": "PUT",
    "content": {
        "Fullname": "TEST/VIEW/ORGANIZATION",
        "EntityType": {
            "@EnterpriseSearch.enabled": true,
            "@Search.searchable": true,
            "@EnterpriseSearchHana.identifier": "ORGANIZATION",
            "@EnterpriseSearchHana.passThroughAllAnnotations": true,
            "Properties": [
                {
                    "Name": "ID",
                    "@Search.defaultSearchElement": true,
                    "@UI.identification": [
                        {
                            "position": 10
                        }
                    ]
                },
                {
                    "Name": "NAME",
                    "@Search.defaultSearchElement": true,
                    "@UI.identification": [
                        {
                            "position": 20
                        }
                    ]
                }
            ]
        }
    }
};

{
    "uri": "~/$metadata/EntitySets",
    "method": "PUT",
    "content": {
        "Fullname": "TEST/VIEW/PERSON",
        "EntityType": {
            "@EnterpriseSearch.enabled": true,
            "@Search.searchable": true,
            "@EnterpriseSearchHana.identifier": "PERSON",
            "@EnterpriseSearchHana.passThroughAllAnnotations": true,
            "Properties": [
                {
                    "Name": "ID",
                    "@Search.defaultSearchElement": true,
                    "@UI.identification": [
                        {
                            "position": 10
                        }
                    ]
                },
                {
                    "Name": "FIRSTNAME",
                    "@Search.defaultSearchElement": true,
                    "@UI.identification": [
                        {
                            "position": 20
                        }
                    ]
                },
                {
                    "Name": "LASTNAME",
                    "@Search.defaultSearchElement": true,
                    "@UI.identification": [
                        {
                            "position": 30
                        }
                    ]
                }
            ]
        }
    }
}